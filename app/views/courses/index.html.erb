<div class=" mt-5">
  <div class="container-home-white d-flex justify-content-between align-items-center">
    <h2 class="text-left">Tous les cours</h2>
    <%= link_to "Ajouter un cours", new_course_path, class:"btn btn-primary"%>
  </div>

    <div class="container-home">
      <h3>Cours cette semaine</h3>
      <% if @this_week_courses.empty? %>
        <h3>Pas de cours cette semaine</h3>
      <% else %>
        <% @this_week_courses.each do |course|%>
          <div class="course-card col-4 mt-2">
            <h5 class="pt-3"><i class="fas fa-map-marker-alt"></i> <%= course.address%></h5>
            <hr>
            <p><%= "#{course.date.day}/#{course.date.month}/#{course.date.year}" %></p>
            <p><%= "#{course.time.hour}:#{course.time.min}"%></p>
            <% sum = 0%>
            <% if course.bookings.empty?%>
              <p>Il reste <%= course.number_of_places%> places</p>
            <% else %>
              <% course.bookings.each do |booking| %>
              <% sum += booking.number_of_people %>
              <%end%>
              <p>Il reste <%= course.number_of_places - sum %> place(s)</p>
            <%end%>

            <%= link_to "Voir participants", course_path(course), class:"btn btn-primary mb-3"%>
            <%= link_to "Supprimer cours", 
            course_path(course),
            method: :delete,
            data: { confirm: "Etes-vous sûr de vouloir supprimer ce cours?" },
            class:"btn btn-danger mb-3" %>
          </div>
        <% end %>
      <% end %>
    </div>

    <div class="container-home">
    <h3>Cours à venir</h3>
      <% if @upcoming_courses.empty? %>
        <h3>Pas de cours à venir</h3>
      <% else %>
        <% @upcoming_courses.each do |course|%>
          <div class="course-card col-4 mt-2">
            <h5 class="pt-3"><i class="fas fa-map-marker-alt"></i> <%= course.address%></h5>
            <hr>
            <p><%= "#{course.date.day}/#{course.date.month}/#{course.date.year}" %></p>
            <p><%= "#{course.time.hour}:#{course.time.min}"%></p>
            <% sum = 0%>
            <% if course.bookings.empty?%>
              <p>Il reste <%= course.number_of_places%> places</p>
            <% else %>
              <% course.bookings.each do |booking| %>
              <% sum += booking.number_of_people %>
              <%end%>
              <p>Il reste <%= course.number_of_places - sum %> place(s)</p>
            <%end%>
            <%= link_to "Voir participants", course_path(course), class:"btn btn-primary mb-3"%>
            <%= link_to "Supprimer cours", 
            course_path(course),
            method: :delete,
            data: { confirm: "Etes-vous sûr de vouloir supprimer ce cours?" },
            class:"btn btn-danger mb-3" %>
          </div>
        <% end %>
      <% end %>
    </div>


    <div class="container-home">
      <h3>Cours passés</h3>
      <% if @passed_courses.empty? %>
        <h3>Pas de cours passés</h3>
      <% else %>
        <% @passed_courses.each do |course|%>
          <div class="course-card col-4 mt-2">
            <h5 class="pt-3"><i class="fas fa-map-marker-alt"></i> <%= course.address%></h5>
            <hr>
            <p><%= "#{course.date.day}/#{course.date.month}/#{course.date.year}" %></p>
            <p><%= "#{course.time.hour}:#{course.time.min}"%></p>
            <% sum = 0%>
            <% if course.bookings.empty?%>
              <p>Ce cours n'a pas été réservé</p>
            <% else %>
              <% course.bookings.each do |booking| %>
              <% sum += booking.number_of_people %>
              <%end%>
              <p>Il y avait <%= sum %> participant(s)</p>
            <%end%>
            <%= link_to "Voir participants", course_path(course), class:"btn btn-primary mb-3"%>
          </div>
        <% end %>
      <% end %>
    </div>

</div>